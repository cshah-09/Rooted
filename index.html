<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Rooted â€” Grow One Day at a Time</title>

<meta name="description" content="A minimal daily growth tracker. Complete one task per day. Grow your tree. Stay rooted.">

<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600&family=DM+Sans:wght@400;500&family=Caveat:wght@700&display=swap" rel="stylesheet">

<style>
body{
    margin:0;
    height:100vh;
    font-family:'DM Sans',sans-serif;
    background:
      radial-gradient(circle at 20% 20%, #fce7f3 0%, transparent 40%),
      radial-gradient(circle at 80% 80%, #ede9fe 0%, transparent 40%),
      #faf7f2;
    display:flex;
    flex-direction:column;
    align-items:center;
    overflow:hidden;
    position:relative;
}

/* PARTICLES */
.particles{
    position:fixed;
    top:0;
    left:0;
    width:100%;
    height:100%;
    pointer-events:none;
    overflow:hidden;
    z-index:0;
}
.particles span{
    position:absolute;
    width:6px;
    height:6px;
    background:rgba(120, 90, 65, 0.5);  /* forest green */
    border-radius:50%;
    opacity:0.7;
    animation: float 20s linear infinite;
}
@keyframes float{
    from{ transform:translateY(100vh); opacity:0; }
    10%{ opacity:0.7; }
    90%{ opacity:0.7; }
    to{ transform:translateY(-10vh); opacity:0; }
}

/* HEADER */
header{
    margin-top:50px;
    text-align:center;
    z-index:2;
}
h1{
    font-family:'Playfair Display',serif;
    font-size:2.6rem;
    margin:0;
    color:#2e2e2e;
}

/* MAIN CONTENT */
.main{
    margin-top:70px;
    text-align:center;
    z-index:2;
}

#task{
    font-family:'Caveat',cursive;
    font-size:2.9rem;
    color:#2f2f2f;
    max-width:520px;
    margin:50px auto 45px auto;
    line-height:1.3;
    text-shadow:2px 2px 0px #ffffff;
}

button{
    padding:16px 36px;
    border:none;
    border-radius:35px;
    font-family:'Caveat',cursive;
    font-size:1.6rem;
    background:#ffffffcc;
    backdrop-filter:blur(6px);
    cursor:pointer;
    transition:all 0.3s ease;
    margin-bottom:20px;
}
button:hover{
    transform:translateY(-3px);
    background:#ffffff;
}

#message{
    margin-top:15px;
    font-size:1rem;
    color:#666;
}

/* PLANT */
#plant{
    position:absolute;
    bottom:0;
    left:50%;
    transform:translateX(-50%) translateY(10px);
    z-index:1;
}

/* COUNTER */
#counter{
    position:absolute;
    top:25px;
    right:30px;
    font-size:0.9rem;
    color:#444;
    z-index:2;
}
</style>
</head>

<body>

<div class="particles"></div>
<div id="counter"></div>

<header>
<h1>Rooted</h1>
</header>

<div class="main">
<div id="task"></div>
<button id="completeBtn" onclick="completeTask()">Task Completed</button>
<div id="message"></div>
</div>

<div id="plant"></div>

<!-- Footer -->
<div style="
position:absolute;
bottom:18px;
right:25px;
font-size:0.8rem;
color:#7a6f66;
z-index:2;
letter-spacing:0.5px;">
Rooted Â© 2026
</div>

<script>

/* PARTICLES */
const particleContainer=document.querySelector(".particles");
for(let i=0;i<18;i++){
    const dot=document.createElement("span");
    dot.style.left=Math.random()*100+"vw";
    dot.style.animationDuration=(18+Math.random()*8)+"s";
    dot.style.animationDelay=Math.random()*10+"s";
    particleContainer.appendChild(dot);
}

/* TASKS */
const tasks=[
"Drink 6 glasses of water today.",
"Declutter one small space.",
"Go for a 15 min walk.",
"No scrolling 30 mins before bed.",
"Eat one clean meal.",
"Text someone you appreciate.",
"Plan tomorrow in 3 bullet points."
];

const now=new Date();
const pst=new Date(now.toLocaleString("en-US",{timeZone:"America/Los_Angeles"}));
const todayKey=pst.toDateString();

let data=JSON.parse(localStorage.getItem("rooted"))||{
weekStart:todayKey,
completedDays:[],
trees:0
};

function isNewWeek(){
const start=new Date(data.weekStart);
const diff=Math.floor((pst-start)/(1000*60*60*24));
return diff>=7;
}

function resetWeekIfNeeded(){
if(isNewWeek()){
if(data.completedDays.length===7){
data.trees+=1;
}
data.weekStart=todayKey;
data.completedDays=[];
}
}

resetWeekIfNeeded();

const dayIndex=Math.floor((pst-new Date(data.weekStart))/(1000*60*60*24));
document.getElementById("task").innerText=tasks[dayIndex]||"Come back tomorrow ðŸŒ¿";

function completeTask(){
if(data.completedDays.includes(todayKey)){
document.getElementById("message").innerText="heyy, only one task per day ðŸŒ¿";
return;
}

data.completedDays.push(todayKey);
localStorage.setItem("rooted",JSON.stringify(data));

renderPlant();
document.getElementById("message").innerText="Proud of you ðŸŒ±";
document.getElementById("completeBtn").style.display="none";
}

function renderPlant(){
const stage=data.completedDays.length;
const plant=document.getElementById("plant");
const canopySize=35+stage*10;

plant.innerHTML=`
<svg width="300" height="220">
<rect x="142" y="120" width="16" height="90" rx="5" fill="#7a4f2f"/>
<circle cx="150" cy="105" r="${canopySize}" fill="#b8e6c1"/>
<circle cx="120" cy="115" r="${canopySize*0.75}" fill="#c9f0d2"/>
<circle cx="180" cy="115" r="${canopySize*0.75}" fill="#c9f0d2"/>
<circle cx="150" cy="75" r="${canopySize*0.7}" fill="#d7f7df"/>
</svg>
`;
}

renderPlant();

document.getElementById("counter").innerText="Total Trees Planted â†’ "+data.trees;

/* RESTORE STATE ON REFRESH */
if(data.completedDays.includes(todayKey)){
document.getElementById("completeBtn").style.display="none";
document.getElementById("message").innerText="heyy, only one task per day ðŸŒ¿";
}

</script>

</body>
</html>
